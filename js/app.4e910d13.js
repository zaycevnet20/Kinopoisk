(function(){"use strict";var e={454:function(e,t,n){var a=n(963),s=n(252);function r(e,t,n,a,r,i){const o=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[r.data?((0,s.wg)(),(0,s.j4)(o,{key:0,data:r.data},null,8,["data"])):(0,s.kq)("",!0)])}var i={data(){return{data:""}},created(){fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/top",{method:"GET",headers:{"X-API-KEY":"3e6a29d8-635e-4047-964c-8b4835a492df","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.data=e})).catch((e=>console.log(e)))}},o=n(744);const l=(0,o.Z)(i,[["render",r],["__scopeId","data-v-79afe170"]]);var c=l,d=n(119),u=n(577);const h=e=>((0,s.dD)("data-v-025bc0ac"),e=e(),(0,s.Cn)(),e),p={class:"container"},f={class:"header__menu"},_=h((()=>(0,s._)("div",{class:"header__logo"}," Movie App ",-1))),m={class:"header__genres"},v=h((()=>(0,s._)("option",{value:"all"}," Все ",-1))),g=h((()=>(0,s._)("option",{value:"fantastic"}," Фантастика ",-1))),w=h((()=>(0,s._)("option",{value:"drama"}," Драма ",-1))),y=[v,g,w],k={class:"header__search"},b=h((()=>(0,s._)("input",{class:"header__submit",type:"submit"},null,-1))),C={class:"content"},I={class:"container"},T={class:"empty",ref:"empty"},j={ref:"wrapper",class:"content__wrapper"},L=["onClick"],$=["src"],D={class:"content__rate"},O={class:"content__genre-wrapper"};function P(e,t,n,r,i,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("header",{class:(0,u.C_)([{active:i.isActive},"header"])},[(0,s._)("div",p,[(0,s._)("div",f,[_,(0,s._)("div",m,[(0,s._)("select",{onClick:t[0]||(t[0]=(...e)=>o.changeGenre&&o.changeGenre(...e))},y)]),(0,s._)("div",k,[(0,s._)("form",{"data-input":"1",onSubmit:t[5]||(t[5]=(...e)=>o.getMovie&&o.getMovie(...e))},[(0,s.wy)((0,s._)("input",{onFocus:t[1]||(t[1]=(...e)=>o.addInputSearch&&o.addInputSearch(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>i.search=e),class:"header__search",placeholder:"Введите фильм...",type:"search"},null,544),[[a.nr,i.search]]),b,(0,s._)("div",{onClick:t[4]||(t[4]=(...t)=>e.closeSearch&&e.closeSearch(...t)),ref:"searchInput",class:"header__input-wrapper"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.getNameMovie,(e=>((0,s.wg)(),(0,s.iD)("div",{ref_for:!0,ref:"inputNames",class:"header__example",key:e},[i.search.length>=1?((0,s.wg)(),(0,s.iD)("p",{key:0,class:"header__input",onClick:t[3]||(t[3]=(...e)=>o.sendToInput&&o.sendToInput(...e))},(0,u.zw)(e.nameRu),1)):(0,s.kq)("",!0)])))),128))],512)],32)])])])],2),(0,s._)("section",C,[(0,s._)("div",I,[(0,s._)("div",T,"Ничего не найдено",512),(0,s._)("div",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.data.films,(t=>((0,s.wg)(),(0,s.iD)("div",{ref_for:!0,ref:"block",onClick:n=>e.$router.push(`/movie/${t.filmId}`),key:t,class:"content__block"},[(0,s._)("img",{class:"content__img",src:t.posterUrl,alt:"movie"},null,8,$),(0,s._)("p",D,(0,u.zw)(t.rating),1),(0,s._)("p",{ref_for:!0,ref:"name",class:"content__name"},(0,u.zw)(t.nameRu),513),(0,s._)("div",O,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.genres,(e=>((0,s.wg)(),(0,s.iD)("p",{class:"content__genre",key:e},(0,u.zw)(e.genre),1)))),128))])],8,L)))),128))],512)])])],64)}var Y={props:["data"],data(){return{search:"",scrollToY:0,scrollLast:0,isActive:!1,beginHide:400}},mounted(){window.addEventListener("scroll",(()=>{this.scrollPosition(),this.scrollPosition()>this.scrollLast&&this.scrollPosition()>this.beginHide?this.isActive=!0:this.scrollPosition()<this.scrollLast&&(this.isActive=!1),this.scrollLast=this.scrollPosition()}))},computed:{getNameMovie(){return this.data.films.filter((e=>e.nameRu.toLowerCase().includes(this.search.toLowerCase())))}},methods:{sendToInput(e){this.search=e.target.textContent,e.target&&(e.target.style.display="none"),this.getMovie(e)},getMovie(e){e.preventDefault();for(let t=0;t<this.data.films.length;t++)this.$refs.name[t].textContent.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())?this.$refs.block[t].style.display="flex":!1===this.$refs.name[t].textContent.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())&&(this.$refs.block[t].style.display="none"),this.$refs.empty.style.display="none";0===this.$refs.wrapper.offsetHeight&&(this.$refs.empty.style.display="block"),this.$refs.searchInput.style.display="none"},addInputSearch(){this.$refs.searchInput.style.display="block"},changeGenre(e){"fantastic"===e.target.value?(console.log("click1"),this.$router.push("/fantastic")):"drama"===e.target.value&&console.log("click2")},scrollPosition(){return this.scrollToY=window.scrollY}}};const x=(0,o.Z)(Y,[["render",P],["__scopeId","data-v-025bc0ac"]]);var A=x;const E={class:"ds"};function H(e,t,n,a,r,i){return(0,s.wg)(),(0,s.iD)("div",E," Hello world "+(0,u.zw)(n.data.films),1)}var G={props:["data"]};const M=(0,o.Z)(G,[["render",H],["__scopeId","data-v-65cb17f4"]]);var z=M;const K=e=>((0,s.dD)("data-v-5d40eb9c"),e=e(),(0,s.Cn)(),e),S={key:0,class:"film"},Z={class:"film__wrapper"},R=K((()=>(0,s._)("div",{class:"film__trailer"},null,-1))),U={class:"film__img"},q=["src"],N={class:"film__name"},X={class:"film__trailer"},F=["href"],V={class:"film__back"},W=(0,s.Uk)("Вернуться на главную");function B(e,t,n,a,r,i){const o=(0,s.up)("router-link");return r.filmCurrent&&r.filmTrailer?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",Z,[R,(0,s._)("div",U,[(0,s._)("img",{class:"film__img-inner",src:r.filmCurrent.posterUrl,alt:"img film"},null,8,q)]),(0,s._)("div",N,(0,u.zw)(r.filmCurrent.nameRu),1),(0,s._)("div",X,[(0,s._)("a",{class:"film__link",target:"_blank",href:r.filmTrailer.items[1].url},"Посмотреть трейлер",8,F)]),(0,s._)("div",V,[(0,s.Wm)(o,{to:"/"},{default:(0,s.w5)((()=>[W])),_:1})])])])):(0,s.kq)("",!0)}var J={data(){return{route:this.$route.params.id,filmCurrent:"",filmTrailer:""}},created(){fetch(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${this.route}`,{method:"GET",headers:{"X-API-KEY":"3e6a29d8-635e-4047-964c-8b4835a492df","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.filmCurrent=e})).catch((e=>console.log(e))),fetch(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${this.route}/videos`,{method:"GET",headers:{"X-API-KEY":"3e6a29d8-635e-4047-964c-8b4835a492df","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.filmTrailer=e})).catch((e=>console.log(e)))}};const Q=(0,o.Z)(J,[["render",B],["__scopeId","data-v-5d40eb9c"]]);var ee=Q;const te=(0,d.p7)({history:(0,d.PO)(),routes:[{path:"/",component:A,name:"mainContent"},{path:"/fantastic",component:z,name:"fantasticGenre"},{path:"/movie/:id",component:ee}]});var ne=te,ae=n(256);const se=(0,a.ri)(c);se.mount("#app"),se.use(ne),se.use(ae.Z)}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,r){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],r=e[d][2];for(var o=!0,l=0;l<a.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(o=!1,r<i&&(i=r));if(o){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,s,r]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,r,i=a[0],o=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var d=l(n)}for(t&&t(a);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},a=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(454)}));a=n.O(a)})();
//# sourceMappingURL=app.4e910d13.js.map